

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Sovrin Release Notes &mdash; Sovrin  documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Build sovrin for ubuntu" href="build-scripts/ubuntu-1604/README.html" />
    <link rel="prev" title="The Sovrin Foundation" href="README.html" /> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Sovrin
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Sovrin</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Introduction</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release Notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#disclosure">Disclosure</a></li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.30</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-scripts">Upgrade Scripts:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.17</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-scripts">Upgrade Scripts:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.13</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-scripts">Upgrade Scripts:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-scripts">Upgrade Scripts:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.11</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-scripts">Upgrade Scripts:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#cli-upgrading">CLI Upgrading:</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-scripts">Upgrade Scripts:</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.9</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#upgrade-scripts">Upgrade Scripts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.8</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional Information:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#upgrade-steps">Upgrade Steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#questions-and-answers">Questions and Answers</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#hot-fix">1.1.6 Hot Fix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.1.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#component-version-information">Component Version Information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#major-fixes">Major Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-additions-known-issues">Changes - Additions - Known Issues</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#">1.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#major-features">Major Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deferred-features">Deferred Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#known-issues">Known Issues</a></li>
<li class="toctree-l3"><a class="reference internal" href="#new-terminology-changes-to-the-cli">New Terminology Changes to the CLI</a></li>
<li class="toctree-l3"><a class="reference internal" href="#emergencies">Emergencies</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other-important-information">Other Important Information</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#keyrings-to-wallets-directory">Keyrings to Wallets Directory</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-stamps">Time Stamps</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="build-scripts/ubuntu-1604/README.html">Build Scripts</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Sovrin</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Sovrin Release Notes</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/release-notes.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="sovrin-release-notes">
<span id="sovrin-release-notes"></span><h1>Sovrin Release Notes<a class="headerlink" href="#sovrin-release-notes" title="Permalink to this headline">¶</a></h1>
<p><img alt="image alt text" src="_images/banner.png" /></p>
<ul class="simple">
<li><a class="reference external" href="#1130">1.1.30</a></li>
<li><a class="reference external" href="#1117">1.1.17</a></li>
<li><a class="reference external" href="#1113">1.1.13</a></li>
<li><a class="reference external" href="#1112">1.1.12</a></li>
<li><a class="reference external" href="#1111">1.1.11</a></li>
<li><a class="reference external" href="#1110">1.1.10</a></li>
<li><a class="reference external" href="#119">1.1.9</a></li>
<li><a class="reference external" href="#118">1.1.8</a></li>
<li><a class="reference external" href="#117">1.1.7</a></li>
<li><a class="reference external" href="#116-hot-fix">1.1.6 Hot Fix</a></li>
<li><a class="reference external" href="#116">1.1.6</a></li>
<li><a class="reference external" href="#10">1.0</a></li>
</ul>
<div class="section" id="disclosure">
<span id="disclosure"></span><h2>Disclosure<a class="headerlink" href="#disclosure" title="Permalink to this headline">¶</a></h2>
<p>Although every attempt has been made to make this information as accurate as possible, please know there may be things that are omitted, not fully developed yet, or updates since this publication that were not included in the information below. Only the most pressing or significant items have been listed. For the entire list of tickets and or specific information about any given item, please visit the list at <a class="reference external" href="https://jira.hyperledger.org/">Hyperleder Indy’s Jira</a>. Once logged in, simply navigate to Projects &gt; Indy.</p>
</div>
<div class="section" id="">
<span id="id1"></span><h2>1.1.30<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="component-version-information"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.6.53 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.6.78 |
| release version number | 1.1.30 |
|   |   |   |</p>
</div>
<div class="section" id="major-fixes">
<span id="major-fixes"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Fixed and issue where the ledger statuses and maximal consistency proofs is not canceled. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1740">INDY-1740</a> |
| Fixed an issue where Bug in calling notifier methods in . |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1741">INDY-1741</a> |
| Fixed an issue where 35 view changes were happened during 10 minutes after nodes failure because of an invalid request. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1696">INDY-1696</a> |
| Fixed an issue where the requests queue is not cleared in case of reject-nym transactions. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1700">INDY-1700</a> |
| Fixed an issue where throughput critically decreases without causing view_change |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1672">INDY-1672</a> |
| Fixed an issue where Node can<p>’</p>
t catch up large ledger. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1595">INDY-1595</a> |
| Fixed an issue where we were unable to demote node in STN. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1621">INDY-1621</a> |
| Fixed an issue where view changes happen when all responses should be rejected during load testing scenario. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1653">INDY-1653</a> |
| Fixed an issue where node doesn<p>’</p>
t write txns after disconnection from the rest nodes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1580">INDY-1580</a> |
| Fixed an issue where throughput is degrading if backup primary is stopped. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1618">INDY-1618</a> |
|   |   |   |   |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="changes-additions-known-issues"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Switch off a replica that stopped because disconnected from a backup primary. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1681">INDY-1681</a> |
| Extended load scripts emulating non-smooth load according to the changes in the core script. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1643">INDY-1667</a> |
| Proof of stability under load. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1607">INDY-1607</a> |
| Investigate Out of memory issues with the current load testing. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1688">INDY-1688</a> |
| Do not re-verify signature for Propagates with already verified requests. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1649">INDY-1649</a> |
| POA: Require multiple signatures for important transactions. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1704">INDY-1704</a> |
| Support all FEEs txns in the load script. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1665">INDY-1665</a> |
| Test domain transactions with FEEs. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1661">INDY-1661</a> |
| 3PC Batch should preserve the order of requests when applying PrePrepare on non-primary. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1642">INDY-1642</a> |
| Ability to switch off (remove) replicas with no changes of F value. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1680">INDY-1680</a> |
| A node should be able to participate in BLS multi-signature only if it has a valid proof of possession. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1589">INDY-1589</a> |
| Make validator info as a historical data. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1637">INDY-1637</a> |
|   |   |   |
| <strong>Known Issue:</strong> There are possible OOM issues during 3+ hours of target load or large catch-ups at 8 GB RAM nodes pool so 32 GB is recommended. |   |   |
| <strong>Known Issue:</strong> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a> - <strong>Upgrade failed on pool from 1.3.62 to 1.4.66</strong>   | Note that <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a> was fixed in indy-node 1.5.68, but it still presents in indy-node 1.3.62 and 1.4.66 code. So, some of the nodes may not to be upgraded during simultaneous pool-upgrade. If this problem will appear, stewards should perform manual upgrade of indy-node in accordance with this <a class="reference external" href="https://docs.google.com/document/d/1vUvbioL5OsmZMSkwRcu0p0jdttJO5VS8K3GhDLdNaoI">instruction</a>.   |   ||   |    |    |   |</p>
</div>
<div class="section" id="upgrade-scripts">
<span id="upgrade-scripts"></span><h3>Upgrade Scripts:<a class="headerlink" href="#upgrade-scripts" title="Permalink to this headline">¶</a></h3>
<p><strong>Pool upgrade from indy-node 1.3.62 to indy-node 1.6.78 should be performed simultaneously for all nodes due to txn format changes.</strong></p>
</div>
<div class="section" id="additional-information">
<span id="additional-information"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p>To reduce the risk of reproducing <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a>, it <strong>is recommended to use the old CLI for pool upgrade</strong> from indy-node 1.3.62.</p>
<p><strong>All indy-cli pools should be recreated with actual genesis files.
For more details about txn format changes see [INDY-1421]((https://jira.hyperledger.org/browse/INDY-1421).</strong></p>
</div>
</div>
<div class="section" id="">
<span id="id2"></span><h2>1.1.17<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<p><strong>Important:</strong> Several iterations were done very rapidly between the last release and this one. All of the changes, upgrades, etc… are included in this new release. Simply upgrading will include them all from 1.1.13 until 1.1.17. To see further, specific numerous changes, please reference the appropriate tickets in the <a class="reference external" href="https://jira.hyperledger.org/">Hyperledger Jira ticketing system.</a></p>
<div class="section" id="component-version-information">
<span id="id3"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.6.51 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.6.73 |
| release version number | 1.1.17 |
|   |   |   |</p>
</div>
<div class="section" id="major-fixes">
<span id="id4"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Fixed and issue where the pool stopped writing after F change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1583">INDY-1583</a> |
| Fixed an issue where read_ledger was passing incorrectly formatted stdout and breaks convention |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1645">INDY-1645</a> |
| Fixed an issue where the node couldn<p>’</p>
t catch up a large ledger. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1595">INDY-1595</a> |
| Fixed an issue where the Validator Info may hang for a couple of minutes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1603">INDY-1603</a> |
| Fixed an issue where the read_ledger tool is not able to read the sovrin plugin ledger. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1548">INDY-1548</a> |
|   |   |   |   |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id5"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Made it so that the 3PC Batch should preserve the order of requests when applying PrePrepare on non-primary. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1642">INDY-1642</a> |
| Made it so that Monitor takes into account requests not passing the dynamic validation when triggering view change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1643">INDY-1643</a> |
| Improved throughput calculation to reduce a chance of false positive View Changes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1565">INDY-1565</a> |
| Made it so that the performance of monitor is improved. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1660">INDY-1660</a> |
| Made it so that Stewards, can have a script that can generates Proof of possession for their BLS key. That value can now be used in a NODE txn. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1588">INDY-1588</a> |
| Added Support Proof of Possession for BLS keys. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1389">INDY-1389</a> |
| Made it so that the average is not used when calculating total throughput/latency of backups. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1582">INDY-1582</a> |
| Made it so that any client requests are discarded during view change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1564">INDY-1564</a> |
| Created a simple tool to show graphical representation of some common metrics. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1568">INDY-1568</a> |
| Changed default configs for better performance and stability. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1549">INDY-1549</a> |
|   |   |   |
| <strong>Known Issue:</strong> Upgrade failed on pool from 1.3.62 to 1.4.66.  | Note that <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a> was fixed in indy-node 1.5.68, but it still presents in indy-node 1.3.62 and 1.4.66 code. <strong>So, some of the nodes may not to be upgraded during simultaneous pool-upgrade.</strong> If this problem will appear, stewards should perform manual upgrade of indy-node in accordance with this <a class="reference external" href="https://docs.google.com/document/d/1vUvbioL5OsmZMSkwRcu0p0jdttJO5VS8K3GhDLdNaoI">instruction</a> <strong>(!)</strong> To reduce the risk of reproducing <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a>, it is <strong>recommended to use old CLI for pool upgrade.</strong> | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a> |
|   |   |   |   |</p>
</div>
<div class="section" id="upgrade-scripts">
<span id="id6"></span><h3>Upgrade Scripts:<a class="headerlink" href="#upgrade-scripts" title="Permalink to this headline">¶</a></h3>
<p><strong>Pool upgrade from indy-node 1.3.62 to indy-node 1.6.73 should be performed simultaneously for all nodes due to txn format changes.</strong></p>
<p>There must be sovrin package upgrade to 1.1.17 version after indy-node package upgrade. You need to specify package=sovrin in pool-upgrade command to do this.</p>
</div>
<div class="section" id="additional-information">
<span id="id7"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p><strong>All indy-cli pools should be recreated with actual genesis files.</strong></p>
<p><strong>For more details about txn format changes see</strong> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1421"><strong>INDY-1421</strong></a> <strong>.</strong></p>
<p><strong>There are possible OOM issues during 3+ hours of target load or large catch-ups at 8 GB RAM nodes pool so 32 GB is recommended.</strong></p>
</div>
</div>
<div class="section" id="">
<span id="id8"></span><h2>1.1.13<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id9"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.6.49 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.6.70 |
| release version number | 1.1.13 |
|   |   |    |</p>
</div>
<div class="section" id="major-fixes">
<span id="id10"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Fixed and issue where several nodes (less than f) were getting ahead the rest ones under load. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1473">INDY-1473</a> |
| Fixed an issue where the pool has stopped to write txns. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1539">INDY-1539</a> |
| Fixed an issue where re-send messages to disconnected remotes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1497">INDY-1497</a> |
| Fixed an issue where the pool stopped writing under 20txns/sec load. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1478">INDY-1478</a> |
| Fixed an issue where 1.3.62 -&amp;gt; 1.5.67 forced upgrade without one node in schedule failed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1519">INDY-1519</a> |
| Fixed an issue where tmp.log must have unique name. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1502">INDY-1502</a> |
| Fixed an issue where a node needed to hook up to a lower viewChange. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1199">INDY-1199</a> |
| Fixed an issue where the one of the nodes lagged behind others after forced view changes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1470">INDY-1470</a> |
| Made it so that View Change should not be triggered by re-sending Primary disconnected if Primary is not disconnected anymore. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1544">INDY-1544</a> |
|   |   |   |   |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id11"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Made it so that as a Trustee running POOL_UPGRADE txn, you can specify any package depending on indy-node, so that the package with the dependencies get upgraded. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1491">INDY-1491</a> |
| Made it so that Monitor is reset after the view change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1555">INDY-1555</a> |
| Made it so that GC by Checkpoints are not triggered during View Change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1545">INDY-1545</a> |
| Made it so that the validator info must show committed and uncommitted roots for all states. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1542">INDY-1542</a> |
| Explored timing and execution time. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1475">INDY-1475</a> |
| Memory leaks profiling. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1493">INDY-1493</a> |
| Bound connection socket to NODE_IP |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1531">INDY-1531</a> |
| Enable TRACK_CONNECTED_CLIENTS_NUM option |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1496">INDY-1496</a> |
| Updated revocation registry delta value during REG_ENTRY_REVOC writing. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1378">INDY-1378</a> |
| Support latest SDK in Indy Plenum and Node. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1480">INDY-1480</a> |
| Latency measurements in monitor are windowed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1468">INDY-1468</a> |
| Trust anchor permissions are not needed for ledger writes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1528">INDY-1528</a> |
|   |   |   |
| <strong>Known Issue:</strong> Docker pool can<p>’</p>
t be built because of new python3-indy-crypto in sdk repo. The problem described in INDY-1517 will be fixed in the next release of indy-node. | Workaround for this problem is to add python3-indy-crypto=0.4.1 to the list of packages to be installed. | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1517">INDY-1517</a> |
| <strong>Known Issue:</strong> Upgrade failed on pool from 1.3.62 to 1.4.66. Note that INDY-1447 was fixed in indy-node 1.5.68, but it still presents in indy-node 1.3.62 and 1.4.66 code. | <strong>So, some of the nodes may not to be upgraded during simultaneous pool-upgrade.</strong> If this problem will appear, stewards should perform manual upgrade of indy-node in accordance with this <a class="reference external" href="https://docs.google.com/document/d/1vUvbioL5OsmZMSkwRcu0p0jdttJO5VS8K3GhDLdNaoI">instruction:</a><strong>(!)</strong> To reduce the risk of reproducing INDY-1447, it is <strong>recommended to use old CLI for pool upgrade.</strong> | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a> |
|   |   |   |  |</p>
</div>
<div class="section" id="upgrade-scripts">
<span id="id12"></span><h3>Upgrade Scripts:<a class="headerlink" href="#upgrade-scripts" title="Permalink to this headline">¶</a></h3>
<p><strong>Pool upgrade from indy-node 1.3.62 to indy-node 1.6.70 should be performed simultaneously for all nodes due to txn format changes.</strong></p>
<p>There must be sovrin package upgrade to 1.1.13 version after indy-node package upgrade. You need to specify package=sovrin in pool-upgrade command to do this.</p>
</div>
<div class="section" id="additional-information">
<span id="id13"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p><strong>All indy-cli pools should be recreated with actual genesis files.</strong></p>
<p><strong>For more details about txn format changes see</strong> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1421"><strong>INDY-1421</strong></a> <strong>.</strong></p>
</div>
</div>
<div class="section" id="">
<span id="id14"></span><h2>1.1.12<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id15"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.5.47 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.5.67 |
| release version number | 1.1.12 |
|   |   |    |</p>
</div>
<div class="section" id="major-fixes">
<span id="id16"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Fixed and issue where logs were appearing in the old CLI. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1471">INDY-1471</a> |
| Fixed an issue where there were numerous blacklists under high loads. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1461">INDY-1461</a> |
| Fixed an issue where the pool stopped writing after 1114k txns (different view_no). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1460">INDY-1460</a> |
| Fixed an issue where the “AttributeError: NoneType object has no attribute ‘request’ during load”; was appearing. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1464">INDY-1464</a> |
| Fixed an issue where the validator-info was reading an empty file. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1406">INDY-1406</a> |
| Fixed an issue where validator-info -v –json wasn’t producing valid JSON. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1443">INDY-1443</a> |
| Fixed an issue where the first Pre-Prepare message had <code class="docutils literal notranslate"><span class="pre">incorrect</span> <span class="pre">state</span> <span class="pre">trie</span></code> root right after view_change (on master replica). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1459">INDY-1459</a> |
| Fixed an issue where the pool could not order transactions because Node set incorrect watermarks after its restart. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1455">INDY-1455</a> |
| Fixed an issue where the pool stopped working due to several incomplete view changes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1454">INDY-1454</a> |
| Fixed an issue where the node crashes on _remove_stashed_checkpoints. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1427">INDY-1427</a> |
| Fixed an issue where memory was running out during non-completed viewChange process (under load). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1360">INDY-1360</a> |
| Fixed an issue where part of nodes continued ordering txns after <code class="docutils literal notranslate"><span class="pre">incorrect</span> <span class="pre">state</span> <span class="pre">trie</span></code> under load. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1422">INDY-1422</a> |
| Fixed an issue where the upgrade failed on pool from 1.3.62 to 1.4.66.  |   |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a>   ||Fixed an issue where a forced upgrade from 1.3.62 -&gt; 1.5.67 without one node in schedule  failed.   |  |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1519">INDY-1519</a>  ||   |  |  |  |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id17"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Implemented periodic restart of client stack to allow new clients to connect. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1431">INDY-1431</a> |
| Got rid of peersWithoutRemotes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1467">INDY-1467</a> |
| High Watermark on backup may be reset to 300. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1462">INDY-1462</a> |
| We now allow optional field in node-to-node and client-to-node. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1494">INDY-1494</a> |
| Catchup during view change may last forever under the load. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1463">INDY-1463</a> |
| Propagate Primary mode should not be set for already started view change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1458">INDY-1458</a> |
| Catchup needs to be finished during high load. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1450">INDY-1450</a> |
| Included reviewed logging strings in Indy. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1416">INDY-1416</a> |
| Added benchmark performance impact of recorder tool. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1483">INDY-1483</a> |
| Decreased the amount of logging with INFO level. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1311">INDY-1311</a> |
| Made it so that throughput measurements in monitor should are windowed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1435">INDY-1435</a> |
| Limited the number of requested PROPAGATES in MessageRequests. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1386">INDY-1386</a> |
| Made it so that any client requests during view change are not processed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1453">INDY-1453</a> |
| Made it so that a node must send LEDGER_STATUS with correct last ordered 3PC after catch-up. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1452">INDY-1452</a> |
| Fixed calculation of prepared certificates during View Change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1385">INDY-1385</a> |
| Made it so that catchup should not be interrupted by external events. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1404">INDY-1404</a> |
| <strong>Known Issue:</strong> Upgrade failed on pool from 1.3.62 to 1.4.66. Note that INDY-1447 was fixed in indy-node 1.5.68, but it still presents in indy-node 1.3.62 and 1.4.66 code. So, some of the nodes may not to be upgraded during simultaneous pool-upgrade. If this problem will appear, stewards should perform manual upgrade of indy-node in accordance with this instruction: (!) To reduce the risk of reproducing INDY-1447, it is recommended to use old CLI for pool upgrade.  |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1447">INDY-1447</a> |
|   |   |   | |</p>
</div>
<div class="section" id="upgrade-scripts">
<span id="id18"></span><h3>Upgrade Scripts:<a class="headerlink" href="#upgrade-scripts" title="Permalink to this headline">¶</a></h3>
<p><strong>Pool upgrade from indy-node 1.3.62 should be performed simultaneously for all nodes due to txn format changes.</strong></p>
</div>
<div class="section" id="additional-information">
<span id="id19"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p><strong>All indy-cli pools should be recreated with actual genesis files.
For more details about txn format changes see INDY-1421.</strong></p>
</div>
</div>
<div class="section" id="">
<span id="id20"></span><h2>1.1.11<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id21"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.4.45 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.4.66 |
| release version number | 1.1.11 |
|   |   |   |</p>
</div>
<div class="section" id="major-fixes">
<span id="id22"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Fixed and issues where one of the nodes stopped writing after 44287 txns with errors in status. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1410">INDY-1410</a> |
| Fixed an issue where the pool stopped accepting transactions on 5731 txns (1 sec delays, no logging). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1365">INDY-1365</a> |
| Fixed an issue where the pool stopped writing after ~300,000 txns from 5 clients |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1315">INDY-1315</a> |
| Fixed an issue where STN was not accepting transactions with only one node down. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1351">INDY-1351</a> |
| Fixed an issue where the pool stops taking txns at ~178k txns written in ledger. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1260">INDY-1260</a> |
| Fixed an issue where <code class="docutils literal notranslate"><span class="pre">ReqIdrToTxn</span></code> does not store information about the ledger. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1327">INDY-1327</a> |
| Made simple Timeout fixes of the current View Change protocol. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1341">INDY-1341</a> |
| Fixed an issue where the migration fails in case of upgrade to version with new transactions format. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1379">INDY-1379</a> |
| Fixed an issue where <code class="docutils literal notranslate"><span class="pre">--network</span> <span class="pre">parameter</span> <span class="pre">of</span> <span class="pre">read_ledger</span></code> doesn’t work. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1318">INDY-1318</a> |
| Fixed an issue where the /var/log/indy/validator-info.log was inappropriately owned by root. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1310">INDY-1310</a> |
| Created a fix around the issues found in the current logic of catch-up. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1298">INDY-1298</a> |
| Fixed GetValidatorInfo so it has correct validation for signature and permissions. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1363">INDY-1363</a> |
| Fixed an issue where there was an unhandled exception during node working. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1316">INDY-1316</a> |
| Fixed an issue where <code class="docutils literal notranslate"><span class="pre">validator-info</span></code> and <code class="docutils literal notranslate"><span class="pre">read_ledger</span></code> were giving inconsistent responses in node on provisional. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1219">INDY-1219</a> |
| Fixed an issue where the pool stops taking txns at 3000 writing connections. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1259">INDY-1259</a> |
|   |   |   |
|   |   |   |   |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id23"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Reviewed and replaced <code class="docutils literal notranslate"><span class="pre">assert</span></code> with exceptions in indy-plenum where needed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-810">INDY-810</a> |
| Tuned RocksDB options for the best performance. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1245">INDY-1245</a> |
| Created a migration guide from Indy-node 1.3 to 1.4. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1392">INDY-1392</a> |
| Сhanged a key in the requests map and field reqIdr in Pre Prepare and Ordered. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1370">INDY-1370</a> |
| Investigated issues found during load testing of 25-nodes pool with increased timeouts for catchups and viewchange. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1400">INDY-1400</a> |
| We now support binding on separate NICs for Client-to-Node and Node-to-Node communication. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1332">INDY-1332</a> |
| Added short checkpoints stabilization without matching digests. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1329">INDY-1329</a> |
| Added indy-crypto package to the hold list. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1323">INDY-1323</a> |
| Removed ledger status based catch-up trigger together with the wrong catch-up workflow. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1297">INDY-1297</a> |
| Read-ledger without storage copy in case of RocksDB (RocksDB read-only mode support). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1243">INDY-1243</a> |
| Applied state machine to Catchup code. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-971">INDY-971</a> |
| Refactored the common Request structure. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1124">INDY-1124</a> |
| Refactored the common transactions structure. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1123">INDY-1123</a> |
| We now support the new libindy with changed txn format. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1319">INDY-1319</a> |
| Explored config parameters to find the best performance/stability settings. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1334">INDY-1334</a> |
| Extended the Validator Info tool to provide more information about the current state of the pool. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1175">INDY-1175</a> |
|  A Steward needs to be able to get validator-info from all nodes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1184">INDY-1184</a> |
| Modified existing load scripts for a better load testing. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1279">INDY-1279</a> |
| Performed a migration from LevelDB to RocksDB |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1244">INDY-1244</a> |
| A Trustee needs to be able to restart the pool in critical situations. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1173">INDY-1173</a> |
| Move the log compression into separate process. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1275">INDY-1275</a> |
| <strong>Known Issue:</strong> There’s an incorrect read_ledger info with seq_no parameter. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1415">INDY-1415</a> |
| <strong>Known Issue:</strong> Pool upgrade should be performed simultaneously for all nodes due to txn format changes. All indy-cli pools should be recreated with actual genesis files. |   |   |
| <strong>List of breaking changes for migration from indy-node 1.3 to 1.4:</strong> |   | <a class="reference external" href="https://github.com/hyperledger/indy-node/blob/master/docs/1.3_to_1.4_migration_guide.md">1.3-1.4 Migration Guide</a> |</p>
</div>
<div class="section" id="upgrade-scripts">
<span id="id24"></span><h3>Upgrade Scripts:<a class="headerlink" href="#upgrade-scripts" title="Permalink to this headline">¶</a></h3>
<p><strong>Pool upgrade should be performed simultaneously for all nodes due to txn format changes.</strong></p>
<p><strong>All indy-cli pools should be recreated with actual genesis files.</strong></p>
<div class="section" id="cli-upgrading">
<span id="cli-upgrading"></span><h4>CLI Upgrading:<a class="headerlink" href="#cli-upgrading" title="Permalink to this headline">¶</a></h4>
<p><strong>Old CLI (<code class="docutils literal notranslate"><span class="pre">indy</span></code>):</strong></p>
<p>upgrade from 1.3 to 1.4 version
delete <code class="docutils literal notranslate"><span class="pre">~.ind-cli/networks/&amp;lt;network_name&amp;gt;/data</span></code> folder
replace both old genesis files by new ones (from 1.4 node or from sovrin repo)</p>
<p><strong>New CLI (<code class="docutils literal notranslate"><span class="pre">indy-cli</span></code>):</strong></p>
<p>upgrade from 1.4 to 1.5 version
recreate indy-cli pool using 1.4 pool genesis file (from 1.4 node or from sovrin repo)</p>
</div>
</div>
<div class="section" id="additional-information">
<span id="id25"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p><strong>List of breaking changes for migration from indy-node 1.3 to 1.4:</strong></p>
<p>https://github.com/hyperledger/indy-node/blob/master/docs/1.3_to_1.4_migration_guide.md</p>
<p><strong>IndyNode 1.4 and LibIndy 1.5 compatibility:</strong></p>
<p><em>General</em></p>
<p>By default LibIndy 1.5 will be compatible with IndyNode 1.3 (current stable), and not 1.4 (the new one).</p>
<p>LibIndy 1.5 can become compatible with IndyNode 1.4 if <code class="docutils literal notranslate"><span class="pre">indy_set_protocol_version(2)</span></code> is called during app initialization.</p>
<p><em>Guideline for teams and apps</em></p>
<p>Applications can freely update to LibIndy 1.5 and still use stable Node 1.3</p>
<p>If an app wants to work with the latest master or Stable Node 1.4, then they need to support breaking changes (there are not so many, mostly a new reply for write txns as txn format is changed, see 1.3_to_1.4_migration_guide.md)</p>
<p>call <code class="docutils literal notranslate"><span class="pre">indy_set_protocol_version(2)</span></code> during app initialization</p>
<p>Use https://github.com/hyperledger/indy-sdk/blob/b4a2bb82087e2eafe5e55bddb20a3069e5fb7d0b/cli/README.md#old-python-based-cli-migration to export dids from your old CLI wallet to the new one (new indy-cli).</p>
</div>
</div>
<div class="section" id="">
<span id="id26"></span><h2>1.1.10<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id27"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.2.42 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.3.62 |
| release version number | 1.1.10 |
|   |   |    |</p>
</div>
<div class="section" id="major-fixes">
<span id="id28"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Fixed an issue where the STN was losing consensus. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1256">INDY-1256</a> |
| Fixed an issue where we were unable to use the read_ledger tool with the parameter “to”. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1284">INDY-1284</a> |
|Fixed the upgrade from 1.2.223 (1.3.55 stable analogue) to 1.3.410 (rocksdb) wasn’t working.|    |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1330">INDY-1330</a>  |
|   |   |   |    |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id29"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Support was added for supervisord. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1186">https://github.com/hyperledger/indy-node/pull/588</a> |
| Indy-node dependencies are fixed.  |   |    |
|   |   |   |    |</p>
</div>
<div class="section" id="upgrade-scripts">
<span id="id30"></span><h3>Upgrade Scripts:<a class="headerlink" href="#upgrade-scripts" title="Permalink to this headline">¶</a></h3>
<p>None for this release.</p>
</div>
<div class="section" id="additional-information">
<span id="id31"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p>None at this time.</p>
</div>
</div>
<div class="section" id="">
<span id="id32"></span><h2>1.1.9<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id33"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-node | 1.3.56 |
| release version number | 1.1.9 |
|   |   |   |</p>
</div>
<div class="section" id="major-fixes">
<span id="id34"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| The Node was restarting because of an <p>&amp;quot;</p>
Out of memory<p>&amp;quot;</p>
 error. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1238">INDY-1238</a> |
| The pool was not working after not simultaneous manual pool upgrades. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1197">INDY-1197</a> |
| When adding a new schema, field <p>‘</p>
attr_names<p>’</p>
 of schema json can be an empty list. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1169">INDY-1169</a> |
| This prevents an Identity Owner from creating a schema or claimDef. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1111">INDY-1111</a> |
| There was the same primary for both instances 0 and 1. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1112">INDY-1112</a> |
| The node logs were being duplicated in syslog. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1102">INDY-1102</a> |
| It was possible to create several nodes with the same alias. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1148">INDY-1148</a> |
| There was ambiguous behavior after node demotion. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1179">INDY-1179</a> |
| One of the nodes were not responding to libindy after several running load tests. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1180">INDY-1180</a> |
| When returning N-F nodes to the pool, <p>&amp;quot;</p>
View change<p>&amp;quot;</p>
 was not occurring if the Primary node was stopped. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1151">INDY-1151</a> |
| There was a failed restart after getting the <p>&amp;quot;</p>
unhandled exception (KeyError)<p>&amp;quot;</p>
. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1152">INDY-1152</a> |
| Fixed a bug where you were unable to install indy-node if sdk repo is in sources.list   |   |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1269">INDY-1269</a>   ||   |   |   |   |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id35"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Made it so that a developer can distinguish logs of each replica. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1186">INDY-1186</a> |
| Made it so a developer, can track the path of each request. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1187">INDY-1187</a> |
| Made it so that you can use RocksDB as a key-value storage. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1205">INDY-1205</a> |
| Refactored the common Request structure. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1124">INDY-1124</a> |
| Made it so that it supports anoncreds revocation in Indy. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-680">INDY-680</a> |
| Made it so that it supports REVOC_REG_DEF transaction. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1134">INDY-1134</a> |
| Made it so that it supports GET_REVOC_REG_DEF request. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1135">INDY-1135</a> |
| Made it so that it supports REVOC_REG_ENTRY transaction. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1136">INDY-1136</a> |
| Made it so that it supports GET_REVOC_REG request. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1137">INDY-1137</a> |
| Made it so that it supports getting state root by timestamp. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1138">INDY-1138</a> |
| Got rid of the RAET code. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1057">INDY-1057</a> |
| Incubation: Move CI part of pipelines to Hyperledger infrastructure. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-837">INDY-837</a> |
| Made it so that a user can revoke a connection by rotating the new key to nothing. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-582">INDY-582</a> |
| <strong>Known Issue:</strong> Define the policy how to restore node from the state when it<p>’</p>
s stashing all the reqs and there is a risk of running out of memory. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1250">INDY-1250</a> |
| <strong>Known Issue:</strong> Re-promoted node cannot hook up to a lower viewChange. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1199">INDY-1199</a> |
| <strong>Known Issue:</strong> One of the nodes does not respond to libindy after several running load test. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1180">INDY-1180</a> |
| <strong>Known Issue:</strong> One node fails behind others during the load_test with a high load. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1188">INDY-1188</a> |
|<strong>Known Issue:</strong> Pool can be broken by primary node reboot in case of network issues between nodes. <strong>Note:</strong> RocksDB was added as dependency (INDY-1205). It is used for revocation, but the rest part of node functionality is still using LevelDB.   |   |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1256">INDY-1256</a>       |
|   |   |   |    |</p>
</div>
<div class="section" id="upgrade-scripts">
<span id="id36"></span><h3>Upgrade Scripts<a class="headerlink" href="#upgrade-scripts" title="Permalink to this headline">¶</a></h3>
<p>None for this release.</p>
</div>
<div class="section" id="additional-information">
<span id="id37"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p>None at this time.</p>
</div>
</div>
<div class="section" id="">
<span id="id38"></span><h2>1.1.8<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<p><strong>Important: Upgrade to this version should be performed simultaneously for all nodes (with <code class="docutils literal notranslate"><span class="pre">force=True</span></code>).</strong></p>
<div class="section" id="component-version-information">
<span id="id39"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.2.34 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.3.55 |
| release version number | 1.1.8 |
|   |   |    |</p>
</div>
<div class="section" id="major-fixes">
<span id="id40"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Transactions were missing from the config ledger after the upgrade. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-799">INDY-799</a> |
| The node was broken after a load_test.py run. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-960">INDY-960</a> |
| The pool stopped taking transactions after sending 1,000 simultaneous transactions. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-911">INDY-911</a> |
| The pool stopped working: Node services stop with 1,000 simultaneous clients doing GET_NYM reads |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-986">INDY-986</a> |
| The node is broken after adding it to the pool. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-948">INDY-948</a> |
| The generate_indy_pool_transactions command can be run only by an indy user. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1048">INDY-1048</a> |
| Made it so that updates to existing Schemas are not allowed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1035">INDY-1035</a> |
| The pool was unable to write txns after two nodes adding. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1018">INDY-1018</a> |
| Fixed a bug where it was possible to override CLAIM_DEF for existing schema-did pair. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1083">INDY-1083</a> |
| Fixed a bug where here was a huge amount of calls and a lot of execution time in kv_store.py. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1077">INDY-1077</a> |
| One of added nodes wasn<p>’</p>
t catching up. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1029">INDY-1029</a> |
| The pool stopped working and lost consensus while new node was performing a catch-up. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1025">INDY-1025</a> |
| Performing a View Change on large pools of 19 or more nodes can cause pool to stop functioning. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1054">INDY-1054</a> |
| Performing a View Change issue stopped the pool from accepting new transactions. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1034">INDY-1034</a> |
| We were unable to send transactions in STN. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1076">INDY-1076</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1079">INDY-1079</a> |
| Replica.lastPrePrepareSeqNo may not be reset on view change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1061">INDY-1061</a> |
| We were unable to send an upgrade transaction without including demoted nodes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-897">INDY-897</a> |
| The Nym request to STN was resulting in inconsistent responses. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1069">INDY-1069</a> |
| The validator node was being re-promoted during view change. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-959">INDY-959</a> |
| There was a false cancel message during an upgrade. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1078">INDY-1078</a> |
| Transactions were being added to nodes in STN during system reboot.. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1045">INDY-1045</a> |
| There were problems with nodes demotion during load test. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1033">INDY-1033</a> |
| The node monitoring tool (email plugin) wasn<p>’</p>
t working. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-995">INDY-995</a> |
| ATTRIB transaction with ENC and HASH wasn<p>’</p>
t working. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1074">INDY-1074</a> |
| When returning N-F nodes to the pool, View Change does not occur if Primary node is stopped. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1151">INDY-1151</a> |
| We were unable to recover write consensus at n-f after f+1 descent. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1166">INDY-1166</a> |
| Newly upgraded STN fails to accept transactions (pool has been broken after upgrade because of one not upgraded node).  |   |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1183">INDY-1183</a>   ||We were unable to submit upgrade transactions to STN.   |    |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1190">INDY-1190</a>|   |    |    |    |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id41"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Added indy-sdk test dependency to plenum and use indy-sdk for plenum tests. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-900">INDY-900</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-901">INDY-901</a> |
| Published docker images to dockerhub. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-962">INDY-962</a> |
| Simplified the view change code. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-480">INDY-480</a> |
| Refactored config.py to reflect file folder re-factoring for Incubation. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-878">INDY-878</a> |
| Added Abstract Observers Support. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-628">INDY-628</a> |
| Moved scripts from sovrin-environment to one of Indy repos. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1055">INDY-1055</a> |
| Got rid of Sovrin dependency in the environment scripts. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1064">INDY-1064</a> |
| Updated information in <p>&amp;quot;</p>
Getting Started with Indy<p>&amp;quot;</p>
. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1062">INDY-1062</a> |
| Updated information in <p>&amp;quot;</p>
Setting Up a Test Indy Network in VMs<p>&amp;quot;</p>
. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1062">INDY-1062</a> |
| Add iptables rules to limit the number of clients connections. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1087">INDY-1087</a> |
| Knowledge transfer on Indy build processes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1088">INDY-1088</a> |
| Incubation: Move CI part of pipelines to Hyperledger infrastructure. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-837">INDY-837</a> |
| Made it so that a user can revoke a connection by rotating the new key to nothing. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-582">INDY-582</a> |
| Client needs to be able to make sure that we have the latest State Proof. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-928">INDY-928</a> |
| Created it so that anyone could have access to an up-to-date Technical overview of plenum and indy. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-928">INDY-1022</a> |
| <strong>Known Issue:</strong> Pool has lost consensus after primary demotion (with 4 nodes setup only). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1163">INDY-1163</a> |
| <strong>Known Issue:</strong> Ambiguous behavior after node demotion. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1179">INDY-1179</a> |
| <strong>Known Issue:</strong> One of the nodes does not respond to libindy after several running load test. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1180">INDY-1180</a> |
|<strong>Known Issue:</strong> Pool does not work after not simultaneous manual pool upgrades.   |   |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1197">INDY-1197</a>   ||<strong>Known Issue:</strong> Pool stops working if the primary node was not included to schedule in the upgrade transaction.   |   |<a class="reference external" href="https://jira.hyperledger.org/browse/INDY-1198">INDY-1198</a>  |
|   |   |     |     |</p>
</div>
<div class="section" id="additional-information">
<span id="id42"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p>Node promoting is not recommended for 1.3.52 version according to known issues because backup protocol instances may work incorrectly until next view change.</p>
<p>As mentioned above, upgrade to this version should be performed simultaneously for all nodes (with <code class="docutils literal notranslate"><span class="pre">force=True</span></code>).</p>
</div>
</div>
<div class="section" id="">
<span id="id43"></span><h2>1.1.7<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id44"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.2.29 |
| indy-anoncreds | 1.0.11 |
| indy-node | 1.2.50 |
| release version number | 1.1.7 |
|   |   |   |</p>
</div>
<div class="section" id="major-fixes">
<span id="id45"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| A node was maintaining a pace with the network exactly 12 transactions behind. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-759">INDY-759</a> |
| New nodes added to an existing pool were unable to sync ledgers with the pool. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-895">INDY-895</a> |
| Scheduled upgrades were happening at the current time on some of the nodes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-231">INDY-231</a> |
| Some nodes were not restarting after a canceled pool upgrade. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-157">INDY-157</a> |
| Sovrin logs were insufficient for failed upgrade. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-801">INDY-801</a> |
| A node was getting the wrong <code class="docutils literal notranslate"><span class="pre">upgrade_log</span></code> entries after restarting and was running the wrong upgrade. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-917">INDY-917</a> |
| An earlier <code class="docutils literal notranslate"><span class="pre">pool_upgrade</span></code> was not happening when there was an upgrade to schedule to happen in the future. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-701">INDY-701</a> |
| A validator was running instance change continually on the live pool. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-932">INDY-932</a> |
| New nodes added to an existing pool were unable to participate in consensus after the upgrade. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-909">INDY-909</a> |
| The node logs were repeating the message, <p>&amp;quot;</p>
NodeRequestSuspiciousSpike suspicious spike has been noticed.<p>&amp;quot;</p>
 |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-541">INDY-541</a> |
| Unable to catch up the agent if a validator was down. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-941">INDY-941</a> |
| The pool was unable to write nyms after BLS keys enabling. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-958">INDY-958</a> |
| The last pool node is <code class="docutils literal notranslate"><span class="pre">failed</span> <span class="pre">to</span> <span class="pre">upgrade</span></code>; during a pool upgrade. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-953">INDY-953</a> |
| State Proof creating is fixed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-954">INDY-954</a> |
| State Proof verifying is fixed. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-949">INDY-949</a> |
|   |   |   |    |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id46"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| Signed State implementation |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-670">INDY-670</a> |
| State Proofs implementation |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-790">INDY-790</a> |
| Removed all non-Indy branding from the indy-plenum repo. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-829">INDY-829</a> |
| Removed all non-Indy branding from the indy-anoncreds repo. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-855">INDY-855</a> |
| Removed all non-Indy branding from the indy-node repo. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-830">INDY-830</a> |
| Backward compatibility of nodes with state proofs support with old clients. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-877">INDY-877</a> |
| Supported rebranding in sovrin package. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-880">INDY-880</a> |
| Supported rebranding in Docker and Vagrant environments of sovrin-environments. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-891">INDY-891</a> |
| Support of multiple pool networks by Indy Node. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-831">INDY-831</a> |
| Support of multiple pool networks by Indy Client (CLI). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-832">INDY-832</a> |
| Created proper file folder paths for system service. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-833">INDY-833</a> |
| Client needs to be able to send read requests to one Node only. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-927">INDY-927</a> |
| Client needs to be able to make sure that we have the latest State Proof. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-928">INDY-928</a> |
| <strong>Known Issue:</strong> Node is broken after <code class="docutils literal notranslate"><span class="pre">load_test.py</span></code> run |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-960">INDY-960</a> |
|    |    |    |    |</p>
</div>
<div class="section" id="additional-information">
<span id="id47"></span><h3>Additional Information:<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h3>
<p>Mapping of all file/folder changes are located <a class="reference external" href="https://docs.google.com/spreadsheets/d/1A84H8knCtn8rrTirzxta8XC1jpHBjvQiqrxquTv6bpc/edit#gid=0">here</a>.</p>
<div class="section" id="upgrade-steps">
<span id="upgrade-steps"></span><h4>Upgrade Steps<a class="headerlink" href="#upgrade-steps" title="Permalink to this headline">¶</a></h4>
<ol class="simple">
<li>Send Pool Upgrade command so all nodes upgrade.</li>
<li>Sometime later each Steward will need to do the following steps to add their BLS Keys:</li>
</ol>
<div class="section" id="steps-to-add-bls-keys">
<span id="steps-to-add-bls-keys"></span><h5>Steps to Add BLS Keys<a class="headerlink" href="#steps-to-add-bls-keys" title="Permalink to this headline">¶</a></h5>
<p><strong><em>From the Validator Node:</em></strong></p>
<ol class="simple">
<li>Generate a new 32-byte seed for the bls key (we recommend pwgen):</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">pwgen</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">pwgen</span> <span class="pre">-s</span> <span class="pre">-y</span> <span class="pre">-B</span> <span class="pre">32</span> <span class="pre">1</span></code></p>
<p>If the output has a single-quote symbol (‘), rerun until it doesn’t.</p>
<p><strong>NOTE: This is not your Steward or Node seed.</strong></p>
<ol class="simple">
<li>Record the seed <strong>somewhere secure</strong>.</li>
<li>Switch to the indy user.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">sudo</span> <span class="pre">su</span> <span class="pre">-</span> <span class="pre">indy</span></code></p>
<ol class="simple">
<li>Configure the BLS key.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">init_bls_keys</span> <span class="pre">--name</span> <span class="pre">&lt;NODE_ALIAS&gt;</span> <span class="pre">--seed</span> <span class="pre">'&lt;SEED&gt;'</span></code></p>
<p>The <code class="docutils literal notranslate"><span class="pre">--seed</span></code> is the seed you generated above, and will be used to create the BLS key.</p>
<p><em>Example with Seed:</em></p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">init_bls_keys</span> <span class="pre">--name</span> <span class="pre">Node1</span> <span class="pre">--seed</span> <span class="pre">'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'</span></code></p>
<p>Capture the stdout at the end of the output, which looks like the following, and record it.</p>
<p><code class="docutils literal notranslate"><span class="pre">BLS</span> <span class="pre">Public</span> <span class="pre">key</span> <span class="pre">is</span> <span class="pre">3AfkzUZVn2WT9mxW2zQXMgX39FXSY5qzohnMVpdvNS5KSath1YG5Ux4u9ubTFTaP6W55XX9Yx7xPWeYos489oyY53WzwNBG7X4o32ESnZ9xacLmNsQLBjqc6oqpWGTbEXv4edFTrZ88n93sEh4fjFhQMumaXxDfWJgd9aj7KCSpf38F</span></code></p>
<ol class="simple">
<li>Exit the indy user.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">exit</span></code></p>
<p><strong><em>From the CLI Node:</em></strong></p>
<ol class="simple">
<li>Manually upgrade the CLI.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">update</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">upgrade</span></code></p>
<ol class="simple">
<li>Launch the CLI.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">$</span> <span class="pre">indy</span></code></p>
<p>The first time running the upgraded CLI you will be prompted to migrate your previous settings. Answer “Yes.”</p>
<ol class="simple">
<li>Connect to the pool.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">indy&gt;</span> <span class="pre">connect</span> <span class="pre">live</span></code></p>
<ol class="simple">
<li>Set your Steward as the signer in the CLI.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">indy&#64;live&gt;</span> <span class="pre">use</span> <span class="pre">DID</span> <span class="pre">&lt;Steward</span> <span class="pre">DID&gt;</span></code></p>
<p><em>Example:</em></p>
<p><code class="docutils literal notranslate"><span class="pre">indy&#64;live&gt;</span> <span class="pre">use</span> <span class="pre">DID</span> <span class="pre">Th7MpTaRZVRYnPiabds81Y</span></code></p>
<p><strong>Note:</strong> If your DID is not found in the wallet, you will need to use your steward seed:</p>
<p><code class="docutils literal notranslate"><span class="pre">indy&#64;live&gt;</span> <span class="pre">new</span> <span class="pre">key</span> <span class="pre">with</span> <span class="pre">seed</span> <span class="pre">&lt;steward_seed&gt;</span></code></p>
<ol class="simple">
<li>Now you will send a node transaction like what you did when you added the node to the pool. You will add the BLS key as a new parameter to the transaction to update the pool ledger with this additional public key. For ‘dest’, use the same base58 value for this that was used when you initially onboarded your VM onto the provisional pool.</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">indy&#64;live&gt;</span> <span class="pre">send</span> <span class="pre">NODE</span> <span class="pre">dest=&lt;node_dest&gt;</span> <span class="pre">data={'alias':'&lt;node</span> <span class="pre">name&gt;','blskey':</span> <span class="pre">'&lt;key_generated_by_init_bls_keys&gt;'}</span></code></p>
<p><em>Example:</em></p>
<p><code class="docutils literal notranslate"><span class="pre">indy&#64;live&gt;</span> <span class="pre">send</span> <span class="pre">NODE</span> <span class="pre">dest=Gw6pDLhcBcoQesN72qfotTgFa7cbuqZpkX3Xo6pLhPhv</span> <span class="pre">data={'alias':'Node1','blskey':</span> <span class="pre">'3AfkzUZVn2WT9mxW2zQXMgX39FXSY5qzohnMVpdvNS5KSath1YG5Ux4u9ubTFTaP6W55XX9Yx7xPWeYos489oyY53WzwNBG7X4o32ESnZ9xacLmNsQLBjqc6oqpWGTbEXv4edFTrZ88n93sEh4fjFhQMumaXxDfWJgd9aj7KCSpf38F'}</span></code></p>
<p><strong>Note:</strong> The ‘node_dest’ value can be found on the node with <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">read_ledger</span> <span class="pre">--type</span> <span class="pre">pool</span></code>.</p>
</div>
</div>
<div class="section" id="questions-and-answers">
<span id="questions-and-answers"></span><h4>Questions and Answers<a class="headerlink" href="#questions-and-answers" title="Permalink to this headline">¶</a></h4>
<div class="section" id="bls-keys-for-state-proofs">
<span id="bls-keys-for-state-proofs"></span><h5>BLS Keys for State Proofs<a class="headerlink" href="#bls-keys-for-state-proofs" title="Permalink to this headline">¶</a></h5>
<p><strong>What does BLS stand for?</strong></p>
<p>Boneh-Lynn-Shacham - The BLS signature scheme is used to verify that a signer is authentic.</p>
<p><strong>How does the CLI use State Proof for confirmation?</strong></p>
<p>When the CLI requests information about a transaction it checks the BLS signatures to verify the transaction was written by nodes that are part of the validator pool. The CLI sends a request to one node (arbitrary one). If the Reply doesn’t have a State Proof, or the reply is incorrect/invalid, then CLI falls back to sending requests to all Nodes and waiting for f+1 equal Replies.</p>
<p><strong>What if not all nodes in the pool have BLS signing keys for a transaction?</strong></p>
<p>Transactions only get signed if all nodes reaching consensus can sign it (&gt;= n-f Nodes with correct BLS signatures).</p>
<p><strong>Can the bls_seed be any 32 character seed like the Steward seed?</strong></p>
<p>Yes.</p>
<p><strong>When adding a new node to an existing pool where do I find my BLS key?</strong></p>
<p>When initializing your node using <code class="docutils literal notranslate"><span class="pre">init_indy_node</span></code> the output will display the keys for the node including the BLS key. It can be found in /var/lib/indy/&lt;network_name&gt;/keys/&lt;node_name&gt;/bls_keys/bls_pk file (e.g.: /var/lib/indy/sandbox/keys/Node1/bls_keys/bls_pk)</p>
<p>When you send the transaction to add the new node to the pool it will also contain the BLS key in the transaction shown in this example.</p>
<p><em>Example of send node command with BLS for 5th node in test pool:</em></p>
<p><code class="docutils literal notranslate"><span class="pre">send</span> <span class="pre">NODE</span> <span class="pre">dest=4Tn3wZMNCvhSTXPcLinQDnHyj56DTLQtL61ki4jo2Loc</span> <span class="pre">data=</span> <span class="pre">{'client_port':</span> <span class="pre">9702,</span> <span class="pre">'client_ip':</span> <span class="pre">'10.0.0.105',</span> <span class="pre">'alias':</span> <span class="pre">'Node5',</span> <span class="pre">'node_ip':</span> <span class="pre">'10.0.0.105',</span> <span class="pre">'node_port':</span> <span class="pre">9701,</span> <span class="pre">'services':</span> <span class="pre">['VALIDATOR'],</span> <span class="pre">'blskey':'2RdajPq6rCidK5gQbMzSJo1NfBMYiS3e44GxjTqZUk3RhBdtF28qEABHRo4MgHS2hwekoLWRTza9XiGEMRCompeujWpX85MPt87WdbTMysXZfb7J1ZXUEMrtE5aZahfx6p2YdhZdrArFvTmFWdojaD2V5SuvuaQL4G92anZ1yteay3R'}</span></code></p>
<p><strong>Can I use a seed when generating my BLS keys?</strong></p>
<p>For a new node when using <code class="docutils literal notranslate"><span class="pre">init_indy_node</span></code> if you specify a seed for this script that same seed is used to generate your BLS keys.</p>
<p><strong>For existing nodes</strong> being upgraded to 1.2.50, which includes state proofs, you would use the script <code class="docutils literal notranslate"><span class="pre">init_bls_keys</span></code> where you can specify a 32-character seed on the command line.</p>
<p><code class="docutils literal notranslate"><span class="pre">init_bls_keys</span> <span class="pre">--name</span> <span class="pre">&lt;NODE_ALIAS&gt;</span> <span class="pre">--seed</span> <span class="pre">'&lt;SEED&gt;'</span></code></p>
<p>After running <code class="docutils literal notranslate"><span class="pre">init_bls_keys</span></code>, Stewards of existing nodes will be required use their CLI node to update their validator’s information on the ledger to include the bls keys:</p>
<p><code class="docutils literal notranslate"><span class="pre">send</span> <span class="pre">NODE</span> <span class="pre">dest=&lt;node_dest&gt;</span> <span class="pre">data={'alias':'&lt;node</span> <span class="pre">name&gt;',</span> <span class="pre">'blskey':</span> <span class="pre">'&lt;key_generated_by_init_bls_keys&gt;'}</span></code></p>
</div>
<div class="section" id="multi-network-and-indy-config-py">
<span id="multi-network-and-indy-config-py"></span><h5>Multi-network and indy_config.py<a class="headerlink" href="#multi-network-and-indy-config-py" title="Permalink to this headline">¶</a></h5>
<p><strong>Where do I find the configuration file settings?</strong></p>
<p>With file and folder changes the new location for <code class="docutils literal notranslate"><span class="pre">indy_config.py</span></code> is in the directory location /etc/indy/. The configuration file has a new setting called <code class="docutils literal notranslate"><span class="pre">&quot;NETWORK_NAME&quot;</span></code> which is used to identify which network and associated genesis transaction files to use, such as <code class="docutils literal notranslate"><span class="pre">sandbox</span></code> or <code class="docutils literal notranslate"><span class="pre">live</span></code>. If adding a new node to a live pool, change this setting before initializing the node.
The genesis files are now located in their own directory based off the network name “/var/lib/indy/NETWORK_NAME”. The defaults are <code class="docutils literal notranslate"><span class="pre">live</span></code>, <code class="docutils literal notranslate"><span class="pre">local</span></code>, and <code class="docutils literal notranslate"><span class="pre">sandbox</span></code>. Setting the <code class="docutils literal notranslate"><span class="pre">&quot;NETWORK_NAME&quot;</span></code> in the <code class="docutils literal notranslate"><span class="pre">indy_config.py</span></code> file will determine which network is used. The default setting in the <code class="docutils literal notranslate"><span class="pre">indy_config.py</span></code> file is “<code class="docutils literal notranslate"><span class="pre">&quot;NETWORK_NAME=sandbox&quot;</span></code>.</p>
</div>
</div>
</div>
</div>
<div class="section" id="hot-fix">
<span id="hot-fix"></span><h2>1.1.6 Hot Fix<a class="headerlink" href="#hot-fix" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id48"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.1.27 |
| indy-anoncreds | 1.0.10 |
| indy-node | 1.1.43 |
| release version number | 1.1.6 |
|   |   |   |</p>
</div>
<div class="section" id="major-fixes">
<span id="id49"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Added a migration script which eliminates redundant fields with <code class="docutils literal notranslate"><span class="pre">null</span></code> values from legacy transactions in the domain ledger. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-895">INDY-895</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-869">INDY-869</a> |
| Added a constraint on <code class="docutils literal notranslate"><span class="pre">version</span></code> field of <code class="docutils literal notranslate"><span class="pre">POOL_UPGRADE</span></code> transaction that denies values lower than the current installed version. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-895">INDY-895</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-869">INDY-869</a> |
| Added prevention of upgrade to a lower version to <code class="docutils literal notranslate"><span class="pre">Upgrader</span></code> class. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-895">INDY-895</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-869">INDY-869</a> |
| Fixed a bug in <code class="docutils literal notranslate"><span class="pre">Upgrader</span></code> class in search for a <code class="docutils literal notranslate"><span class="pre">POOL_UPGRADE</span> <span class="pre">cancel</span></code> transaction for the last <code class="docutils literal notranslate"><span class="pre">POOL_UPGRADE</span> <span class="pre">start</span></code> transaction. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-895">INDY-895</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-869">INDY-869</a> |
| Added a test verifying prevention of upgrade to a lower version. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-895">INDY-895</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-869">INDY-869</a> |
| Corrected existing tests according to introduced prevention of upgrade to a lower version. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-895">INDY-895</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-869">INDY-869</a> |
|   |   |   |   |</p>
</div>
</div>
<div class="section" id="">
<span id="id50"></span><h2>1.1.6<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="component-version-information">
<span id="id51"></span><h3>Component Version Information<a class="headerlink" href="#component-version-information" title="Permalink to this headline">¶</a></h3>
<p>| Components | Version Numbers |
| — | — |
| indy-plenum | 1.1.27 |
| indy-anoncreds | 1.0.10 |
| indy-node | 1.1.37 |
| release version number | 1.1.6 |
|   |   | |</p>
</div>
<div class="section" id="major-fixes">
<span id="id52"></span><h3>Major Fixes<a class="headerlink" href="#major-fixes" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information | Ticket Number |
| — | — | — |
| Stewards can now demote and promote their own nodes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-410">INDY-410</a> |
| Fixed problem with timezones for timestamp in a transaction. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-466">INDY-466</a> |
| Limited incoming message size from 128k to 128MB (Temporary solution). |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-25">INDY-25</a> |
| Fixed <code class="docutils literal notranslate"><span class="pre">send</span> <span class="pre">CLAIM_DEF</span></code> command. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-378">INDY-378</a> |
| Masked private information in the CLI logs/output. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-725">INDY-725</a> |
| Fixes crashes on ubuntu 17.04. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-8">INDY-8</a> |
| Python interpreter is executed in optimized mode. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-211">INDY-211</a> |
| Memory leak fixes. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-223">INDY-223</a> |
| Some minor stability fixes. |   |   |
| Fixed a problem with migration during manual upgrades. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-808">INDY-808</a> |
| Fixed a problem with the message length limitation. This was a permanent solution of <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-25">INDY-25</a>. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-765">INDY-765</a> |
| Fixed a problem when the pool was writing transactions when more than F nodes were stopped. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-786">INDY -786</a> |
| Fixed a problem when the pool was broken after processing lots of transactions at once. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-760">INDY-760</a> |
| Fixed a problem when the pool doesn<p>’</p>
t come back to consensus in cases when less than n-f nodes are alive. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-804">INDY-804</a> |
| Partially fixed a problem when the pool responded with outdated data. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-761">INDY-761</a> |
|   |   |   | |</p>
</div>
<div class="section" id="changes-additions-known-issues">
<span id="id53"></span><h3>Changes - Additions - Known Issues<a class="headerlink" href="#changes-additions-known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| <strong>New ledger serialization is supported and Leveldb is used as a storage for all ledgers</strong> : msgpack is used for the ledger serialization (both transaction log and merkle tree). |   |   |
| <strong>The new serialization change created changes to the directory structure for the nodes.</strong> The directory name changes are located on a node under .sovrin/data/nodes/<p>&amp;lt;</p>
node name<p>&amp;gt;</p>
/<p>&amp;lt;</p>
directories<p>&amp;gt;</p>
. The change removes the ledger files as plain text files and creates them as binary files. A new tool was created to view the ledger entries called <code class="docutils literal notranslate"><span class="pre">read_ledger</span></code>. This tool also provides you with a count of the transactions. To learn more about this tool and to see a list of available commands, run this as the sovrin user: <code class="docutils literal notranslate"><span class="pre">read_ledger</span> <span class="pre">--h</span></code> | | |
| <strong>Genesis transaction files are renamed adding a _genesis to the end of each file name.</strong> |   |   |
| <strong>Added the commands to the POOL_UPGRADE to support downgrade and re-installation.</strong> However both have issues and should not be used at this time. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-735">INDY-735</a> <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-755">INDY-755</a> |
| <strong>Fixes to upgrade procedure, in particular an issue which caused an infinite loop.</strong> |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-316">INDY-316</a> |
| <strong>A new CLI command was added to ease the process of rotating a verification key (verkey).</strong> The command is <code class="docutils literal notranslate"><span class="pre">change</span> <span class="pre">current</span> <span class="pre">key</span></code> or <code class="docutils literal notranslate"><span class="pre">change</span> <span class="pre">current</span> <span class="pre">key</span> <span class="pre">with</span> <span class="pre">seed</span> <span class="pre">xxxxx</span></code>. |   |   |
| <strong>Improvements to log messages.</strong> |   |   |
| <strong>Publishing only to repo.sovrin.org</strong> |   |   |
|  In your sources.list you only need the entry <p>&amp;quot;</p>
deb https://repo.evernym.com/deb xenial stable<p>&amp;quot;</p>
. |   |   |
| <strong>Implemented a command line tool to provide validator status.</strong> |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-715">INDY-715</a> |
| <strong><p>&amp;quot;</p>
Debug<p>&amp;quot;</p>
 mode for tests was moved to parameter.</strong> |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-716">INDY-716</a> |
| <strong>Log levels were changed on some debug level messages to an info level.</strong> |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-800">INDY-800</a> |
| <strong>If the pool loses enough nodes and cannot reach consensus when enough nodes become available, the pool will still not reach consensus.</strong> | If you restart all the nodes in the pool, it will start reaching consensus again. | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-849">INDY-849</a> |</p>
</div>
</div>
<div class="section" id="">
<span id="id54"></span><h2>1.0<a class="headerlink" href="#" title="Permalink to this headline">¶</a></h2>
<div class="section" id="major-features">
<span id="major-features"></span><h3>Major Features<a class="headerlink" href="#major-features" title="Permalink to this headline">¶</a></h3>
<p>| Description |Additional Information |
| —| —|
| Identities can be created, and their exercise and evolution can be controlled by ed25519 key pairs (where the public verkey is stored and updated on the ledger). |   |
| Identities are fully self-sovereign by default. Guardianship, as described in <em>The Sovrin Provisional Trust Framework</em>, is also possible. | <a class="reference external" href="https://sovrin.org/library/">The Sovrin Provisional Trust Framework</a>  |
| Identities can have an agent, and the agent endpoint can be declared on the ledger. |   |
| Identities are associated with the roles defined in <em>The Sovrin Provisional Trust Framework.</em> Specifically see: trustee, steward, trust anchor, TGB member, and normal identity. | <a class="reference external" href="https://sovrin.org/library/">The Sovrin Provisional Trust Framework</a> |
| Identities with special roles have the appropriate permissions. | <a class="reference external" href="http://bit.ly/2eRfeIV">http://bit.ly/2eRfeIV</a> |
| The ledger supports a core set of transaction types suitable for early workflows | <a class="reference external" href="http://bit.ly/2v1OAmO">http://bit.ly/2v1OAmO</a> |
| Byzantine consensus is robust and transparent, providing diffuse trust. |   |
| Ledger state is enstructured as a Patricia Trie. This is the precondition for implementing Observer nodes and for having high-trust answers with any number of invalid high-trust answers with any number of malicious intermediaries. |   |
| The network generates log files that stewards can use as an audit trail. |   |
| The network can be upgraded without manual tasks for stewards, using a POOL_UPGRADE transaction. |   |
| Batching is functional, allowing bulk submission and reasonable throughput. (Note, however, that very large batches of more than a few thousand transactions are discouraged because they consume network resources unfairly and may cause brownouts for other users.) |   |
| Simple safeguards are in place to react to hacking and DDoS attempts. |   |
| Terminology in the CLI has been updated to align with usage in the Provisional Trust Framework and the DID specification. In particular, this release is DID-centric, whereas earlier previews were cryptonym-centric. |   |
| Registering simple schemas for claims, and then deriving claims and proofs from them, is possible. This supports many of the use cases envisioned for simple verifiable claims, but not the advanced privacy-preserving features offered by Camenisch-Lysyanskya-style schemes. |   |
|   |   |   |</p>
</div>
<div class="section" id="deferred-features">
<span id="deferred-features"></span><h3>Deferred Features<a class="headerlink" href="#deferred-features" title="Permalink to this headline">¶</a></h3>
<p>| Description | Additional Information |
| — | — |
| <strong>DDO support:</strong> Currently, the DID support in Sovrin uses ATTRIB transactions. This limits the complexity and granularity of identity control. Full DDO support will be necessary to support models such as individual signers being empowered to represent a corporation, for example. |   |
| <strong>Rich schema:</strong> W3C verifiable claim schema thinking is still evolving, and we need time to experiment with the best ways to represent certain constructs. Very complex credential types may not yet be representable. |   |
| <strong>Revocation:</strong> Although the cryptographic foundation for revocation is fully implemented in the anoncreds component that Sovrin depends on, the ledger currently lacks a transaction type to update accumulators. This means initial claims won<p>’</p>
t support revocation. |   |
| <strong>Observers and state proofs:</strong> Although the state trie is present in the ledger, code to return a state proof with each answer from the ledger has not yet been released. This means clients need to hear f+1 consistent answers from validator nodes before they can trust any response from the ledger. The <a class="reference external" href="https://github.com/hyperledger/indy-sdk">Indy SDK</a> supports this type of response checking, and will cut over to using the more efficient state proof mechanism as soon as Sovrin does. Once we have that mechanism in place, observer nodes become trustworthy because they cannot simulate state proofs. This drastically increases the scale and performance of the system. | <a class="reference external" href="https://github.com/hyperledger/indy-sdk">Indy SDK</a> |
|   |   |   |</p>
</div>
<div class="section" id="known-issues">
<span id="known-issues"></span><h3>Known Issues<a class="headerlink" href="#known-issues" title="Permalink to this headline">¶</a></h3>
<p>| Description | Workaround | Ticket |
| — | — | — |
| <strong>Stewards demoting a node:</strong> Stewards should be able to demote and promote their own node. Demoting a node removes it from the pool so it does not participate in the pool reaching consensus. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-410">INDY-410</a> |
| <strong>Ubuntu 17.04 support:</strong> Currently the CLI and Node are not supported on Ubuntu 17.04. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-8">INDY-8</a> |
| <strong>Timezones not matching:</strong> If a system timezone of the primary does not match that of the other nodes the pool cannot function. | <strong>1.</strong> Shut down the sovrin-node service.        <strong>2.</strong> Use “sudo dpkg-reconfigure tzdata” to change your timezone to UTC. (Select “None of the Above” and then “UTC”.) | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-466">INDY-466</a> |
| <strong>Installing client as root:</strong> Installing the client as root does not allow users to access the transaction files and they are not able to connect to the pool. |   | <a class="reference external" href="https://jira.hyperledger.org/browse/INDY-24">INDY-24</a> |
|   |   |   |   |</p>
</div>
<div class="section" id="new-terminology-changes-to-the-cli">
<span id="new-terminology-changes-to-the-cli"></span><h3>New Terminology Changes to the CLI<a class="headerlink" href="#new-terminology-changes-to-the-cli" title="Permalink to this headline">¶</a></h3>
<p>Please be aware that the following terminology has changed:</p>
<ul class="simple">
<li>. <strong>keyring</strong> is now <p>&amp;quot;</p>
wallet<p>&amp;quot;</p>
</li>
<li>. <strong>link</strong> is now <p>&amp;quot;</p>
connection<p>&amp;quot;</p>
</li>
<li>. <strong>invitation</strong> is now <p>&amp;quot;</p>
request<p>&amp;quot;</p>
</li>
<li>. <strong>identifier</strong> is now <p>&amp;quot;</p>
DID<p>&amp;quot;</p>
</li>
</ul>
</div>
<div class="section" id="emergencies">
<span id="emergencies"></span><h3>Emergencies<a class="headerlink" href="#emergencies" title="Permalink to this headline">¶</a></h3>
<p>For emergencies where the Network is under a DOS attack, there is a new command for Trustees only that will put the Pool into a read-only mode.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">send</span> <span class="n">POOL</span>\<span class="n">_CONFIG</span> <span class="n">writes</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>or optional</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">send</span> <span class="n">POOL</span>\<span class="n">_CONFIG</span> <span class="n">writes</span><span class="o">=</span><span class="kc">False</span> <span class="n">force</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>The following are bool parameters: writes and force. Writes is required. Force is not required. The default for force is False.</p>
</div>
<div class="section" id="other-important-information">
<span id="other-important-information"></span><h3>Other Important Information<a class="headerlink" href="#other-important-information" title="Permalink to this headline">¶</a></h3>
<div class="section" id="keyrings-to-wallets-directory">
<span id="keyrings-to-wallets-directory"></span><h4>Keyrings to Wallets Directory<a class="headerlink" href="#keyrings-to-wallets-directory" title="Permalink to this headline">¶</a></h4>
<p>With the terminology change from <p>&amp;quot;</p>
keyring<p>&amp;quot;</p>
 to <p>&amp;quot;</p>
wallet,<p>&amp;quot;</p>
 the wallets that have already been created will be the client in the <em>.sovrin/keyrings/live</em> directory. When you upgrade, you<p>’</p>
ll have to start the CLI and connect to live just once for the wallet directory to be created. The new directory is <em>.sovrin/wallets/live</em>. The upgrade <strong>does not</strong> move your existing wallets from <em>/keyrings/live</em> to <em>/wallets/live</em> since the wallet directory does not exist until you connect for the first time. You will need to move the existing wallets from <em>/keyrings/live</em> to <em>/wallets/live</em> and they will be ready for use.</p>
</div>
<div class="section" id="time-stamps">
<span id="time-stamps"></span><h4>Time Stamps<a class="headerlink" href="#time-stamps" title="Permalink to this headline">¶</a></h4>
<p>With the latest builds (which will be on your new stable) you will start to see a time stamp in the ledger for the transactions. It will look like the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">V4SGRU86Z58d6TV7PBUe6f</span><span class="o">|</span><span class="mi">1500090331922505</span><span class="o">|</span><span class="mi">5</span><span class="n">iBLSL3iujkNsX4RiGN7RjDk5UVtE8GHsn8XHsRsmhUUN9Jz8GEmYtpPrso8e96jo3YafhYSwPkd9QXYA3wYyst4</span><span class="o">|</span><span class="mi">1500090332</span><span class="o">|</span><span class="mi">1</span><span class="o">|</span><span class="n">Pqs6Tyj1huDsjKYsiF8w4f</span><span class="o">|~</span><span class="n">WwZD24Fk4ka7ZY47MPopoo</span><span class="o">||||||</span><span class="mi">2</span><span class="o">||</span>
</pre></div>
</div>
<p>The time stamp is the entry that shows <em>1500090332</em>.</p>
<p>The <em>1500090332</em> is the utc epoch and a converter can be found at this site <a class="reference external" href="https://www.epochconverter.com/">https://www.epochconverter.com/</a> so you can see the human readable version of the time.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="build-scripts/ubuntu-1604/README.html" class="btn btn-neutral float-right" title="Build sovrin for ubuntu" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="README.html" class="btn btn-neutral" title="The Sovrin Foundation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, The Sovrin Foundation

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
    

  

  <script type="text/javascript" src="_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>